includes:
  - /scripting/common/upkeep.yml
  - ../Stealth/best_stealth.yml
ship_parts:
  - name: FU_TRANSPATIAL_DRIVE
    description: FU_TRANSPATIAL_DRIVE_DESC
    exclusions:
      - FU_IMPROVED_ENGINE_COUPLINGS
      - FU_N_DIMENSIONAL_ENGINE_MATRIX
      - FU_SINGULARITY_ENGINE_CORE
      - FU_TRANSPATIAL_DRIVE
      - SH_COLONY_BASE
    class: Speed
    capacity: 60
    slot_types: [Core]
    buildcost: !pp |
      80 * [[FLEET_UPKEEP_MULTIPLICATOR]] * [[SHIP_PART_COST_MULTIPLIER]]
    buildtime: 8
    tags: [PEDIA_PC_SPEED]
    location: |
      And [
        OwnedBy empire = Source.Owner
        Contains Building name = "BLD_SHIPYARD_CON_ADV_ENGINE"
      ]
    effectsgroups:
      - scope: Source
        activation: !pp (1 <= [[BEST_STEALTH_EFFECT]] <= 40)
        stackinggroup: ENGINE_STEALTH_PART_STACK1
        accountinglabel: TRANSPATIAL_CLOAK_INTERACTION
        effects: !pp SetStealth value = Value - [[BEST_STEALTH_EFFECT]]
      - scope: Source
        activation: !pp (40 >= [[BEST_STEALTH_EFFECT]])
        stackinggroup: ENGINE_STEALTH_PART_STACK2
        effects: SetStealth value = Value + 40
    icon: icons/ship_parts/engine-4.png
